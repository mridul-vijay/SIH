{
  "name": "arogya-kerala-backend",
  "version": "1.0.0",
  "description": "Digital Health Record Management System for Migrant Workers in Kerala - Backend API",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js",
    "test": "jest",
    "test:watch": "jest --watch",
    "seed": "node scripts/seedDatabase.js"
  },
  "keywords": [
    "healthcare",
    "migrant-workers",
    "kerala",
    "digital-health",
    "telemedicine",
    "vaccination-tracking"
  ],
  "author": "Arogya Kerala Team",
  "license": "MIT",
  "dependencies": {
    "express": "^4.18.2",
    "mongoose": "^7.5.0",
    "bcryptjs": "^2.4.3",
    "jsonwebtoken": "^9.0.2",
    "cors": "^2.8.5",
    "multer": "^1.4.5-lts.1",
    "nodemailer": "^6.9.4",
    "dotenv": "^16.3.1",
    "helmet": "^7.0.0",
    "express-rate-limit": "^6.10.0",
    "compression": "^1.7.4",
    "validator": "^13.11.0",
    "moment": "^2.29.4",
    "crypto": "^1.0.1",
    "node-cron": "^3.0.2",
    "socket.io": "^4.7.2",
    "twilio": "^4.15.0",
    "firebase-admin": "^11.10.1",
    "axios": "^1.5.0"
  },
  "devDependencies": {
    "nodemon": "^3.0.1",
    "jest": "^29.6.4",
    "supertest": "^6.3.3",
    "@types/jest": "^29.5.5"
  },
  "engines": {
    "node": ">=16.0.0",
    "npm": ">=8.0.0"
  }
}

// .env.example file content:
/*
# Server Configuration
PORT=5000
NODE_ENV=development

# Database
MONGODB_URI=mongodb://localhost:27017/arogya-kerala

# JWT Secret
JWT_SECRET=your-super-secret-jwt-key-here-make-it-long-and-secure

# Email Configuration
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password

# Frontend URL (for email verification links)
FRONTEND_URL=http://localhost:3000

# File Upload Configuration
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,doc,docx

# Twilio (for SMS notifications)
TWILIO_ACCOUNT_SID=your-twilio-sid
TWILIO_AUTH_TOKEN=your-twilio-token
TWILIO_PHONE_NUMBER=+1234567890

# Firebase (for push notifications)
FIREBASE_PROJECT_ID=your-firebase-project
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=your-firebase-client-email

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# Encryption
ENCRYPTION_KEY=your-32-character-encryption-key

# API Keys
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
*/

// scripts/seedDatabase.js
/*
const mongoose = require('mongoose');
const bcrypt = require('bcryptjs');
require('dotenv').config();

// Import models
const User = require('../models/User');
const MigrantWorker = require('../models/MigrantWorker');
const HealthAlert = require('../models/HealthAlert');

const seedDatabase = async () => {
  try {
    await mongoose.connect(process.env.MONGODB_URI);
    console.log('Connected to database');

    // Clear existing data
    await User.deleteMany({});
    await MigrantWorker.deleteMany({});
    await HealthAlert.deleteMany({});

    // Create admin user
    const adminPassword = await bcrypt.hash('admin123', 12);
    const adminUser = new User({
      email: 'admin@arogyakerala.gov.in',
      password: adminPassword,
      role: 'admin',
      profile: {
        firstName: 'System',
        lastName: 'Administrator',
        organization: 'Kerala Health Department',
        designation: 'System Administrator'
      },
      isVerified: true
    });
    await adminUser.save();

    // Create healthcare provider
    const providerPassword = await bcrypt.hash('provider123', 12);
    const providerUser = new User({
      email: 'doctor@arogyakerala.gov.in',
      password: providerPassword,
      role: 'healthcare_provider',
      profile: {
        firstName: 'Dr. Priya',
        lastName: 'Nair',
        organization: 'Government General Hospital',
        designation: 'Chief Medical Officer'
      },
      isVerified: true
    });
    await providerUser.save();

    // Create sample migrant workers
    const sampleWorkers = [
      {
        workerId: 'WKR_001',
        personalInfo: {
          firstName: 'Rajesh',
          lastName: 'Kumar',
          dateOfBirth: new Date('1985-06-15'),
          gender: 'male',
          nationality: 'Indian',
          homeState: 'Uttar Pradesh',
          languages: ['Hindi', 'English']
        },
        contactInfo: {
          phone: '+91-9876543210',
          currentAddress: {
            city: 'Kochi',
            district: 'Ernakulam',
            state: 'Kerala',
            pincode: '682001'
          }
        },
        employmentInfo: {
          currentEmployer: 'Construction Company Ltd',
          jobType: 'Construction Worker',
          workLocation: 'Kochi Metro Project'
        },
        healthStatus: {
          bloodGroup: 'B+',
          height: 170,
          weight: 65
        },
        consentGiven: true
      },
      // Add more sample workers...
    ];

    for (const workerData of sampleWorkers) {
      const worker = new MigrantWorker(workerData);
      await worker.save();
    }

    console.log('Database seeded successfully');
    process.exit(0);
  } catch (error) {
    console.error('Error seeding database:', error);
    process.exit(1);
  }
};

seedDatabase();
*/

// middleware/security.js
/*
const helmet = require('helmet');
const rateLimit = require('express-rate-limit');

const securityMiddleware = (app) => {
  // Basic security headers
  app.use(helmet());

  // Rate limiting
  const limiter = rateLimit({
    windowMs: parseInt(process.env.RATE_LIMIT_WINDOW_MS) || 15 * 60 * 1000, // 15 minutes
    max: parseInt(process.env.RATE_LIMIT_MAX) || 100, // limit each IP to 100 requests per windowMs
    message: 'Too many requests from this IP, please try again later.',
    standardHeaders: